<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>JLPT N4 文法クイズ（35問・最終安定版）</title>
<style>
body{font-family:sans-serif;background:linear-gradient(135deg,#eef2ff,#e0e7ff);margin:0;padding:20px}
.card{max-width:800px;margin:auto;background:#fff;border-radius:12px;box-shadow:0 10px 25px rgba(0,0,0,.1);padding:20px}
h1{color:#3730a3}
button{padding:12px 14px;border-radius:8px;border:1px solid #c7d2fe;background:#eef2ff;cursor:pointer}
button.primary{background:#4f46e5;color:#fff;border:none}
button.option{display:block;width:100%;margin:8px 0;text-align:left}
button.option.correct{background:#dcfce7;border-color:#22c55e}
button.option.wrong{background:#fee2e2;border-color:#ef4444}
.progress{height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden;margin-bottom:10px}
.progress>div{height:8px;background:#4f46e5}
.explain{background:#f8fafc;padding:10px;border-radius:8px;margin-top:10px}
</style>
</head>
<body>
<div class="card">
<h1>JLPT N4 文法クイズ</h1>
<div id="app"></div>
</div>

<script>
const questions = [
{q:"毎朝6時（　）起きます。",opts:["で","に","を","が"],c:1,e:"時間には「に」を使います。"},
{q:"この本は私（　）友達にもらいました。",opts:["の","を","に","と"],c:0,e:"「の」は関係をあらわします。"},
{q:"駅（　）図書館まで歩いて10分です。",opts:["から","まで","に","で"],c:0,e:"「から」ははじまりです。"},
{q:"友達（　）映画を見に行きます。",opts:["が","と","を","に"],c:1,e:"いっしょの人は「と」です。"},
{q:"田中さんは会議室（　）会議をしています。",opts:["に","を","で","へ"],c:2,e:"ばしょは「で」です。"},
{q:"兄は私（　）3歳年上です。",opts:["より","まで","ほど","から"],c:0,e:"くらべるときは「より」。"},
{q:"来週の月曜日（　）テストがあります。",opts:["を","に","で","が"],c:1,e:"日にちは「に」。"},
{q:"図書館（　）本を借りました。",opts:["に","へ","で","を"],c:2,e:"どうさのばしょは「で」。"},
{q:"明日は雨（　）降るでしょう。",opts:["を","に","が","で"],c:2,e:"しぜんのことは「が」。"},
{q:"公園（　）散歩します。",opts:["に","で","を","へ"],c:2,e:"みち・けいろは「を」。"},
{q:"レポート（　）書き終わりました。",opts:["を","が","に","で"],c:0,e:"たいしょうは「を」。"},
{q:"姉は私（　）背が高いです。",opts:["から","まで","より","ほど"],c:2,e:"くらべるときは「より」。"},
{q:"駅（　）着いたら電話してください。",opts:["を","が","に","で"],c:2,e:"とうちゃくてんは「に」。"},
{q:"先生（　）質問しました。",opts:["を","が","に","と"],c:2,e:"あいては「に」。"},
{q:"電気（　）消えました。",opts:["を","に","で","が"],c:3,e:"かわるときは「が」。"},
{q:"友達（　）プレゼントをあげました。",opts:["を","が","と","に"],c:3,e:"あげるあいては「に」。"},
{q:"試験（　）合格しました。",opts:["を","に","が","で"],c:1,e:"ごうかくは「に」。"},
{q:"会議（　）終わりました。",opts:["を","に","で","が"],c:3,e:"おわるときは「が」。"},
{q:"妹（　）電話をかけました。",opts:["を","に","と","が"],c:1,e:"でんわするあいては「に」。"},
{q:"喫茶店（　）お茶を飲みました。",opts:["に","へ","で","を"],c:2,e:"たべる・のむばしょは「で」。"},
{q:"ドア（　）開きました。",opts:["を","に","で","が"],c:3,e:"じどうしは「が」。"},
{q:"先輩（　）お土産をもらいました。",opts:["を","と","が","に"],c:3,e:"もらうあいては「に」。"},
{q:"駐車場（　）車を止めました。",opts:["に","で","を","へ"],c:0,e:"とめるばしょは「に」。"},
{q:"映画（　）始まりました。",opts:["を","に","で","が"],c:3,e:"はじまるときは「が」。"},
{q:"毎日、野菜（　）果物（　）食べます。",opts:["や・を","と・を","か・を","も・を"],c:0,e:"れいは「や」。"},
{q:"毎朝、パン（　）牛乳（　）飲みます。",opts:["と・を","や・を","を・と","か・を"],c:0,e:"ならべるときは「と」。"},
{q:"猫（　）犬（　）、どちらが好きですか。",opts:["と・と","や・や","か・か","も・も"],c:0,e:"くらべるときは「と」。"},
{q:"春（　）夏（　）、どちらが好きですか。",opts:["と・と","や・や","か・か","も・も"],c:0,e:"くらべるときは「と」。"},
{q:"サッカー（　）野球（　）、どちらが楽しいですか。",opts:["と・と","や・や","か・か","も・も"],c:0,e:"くらべるときは「と」。"},
{q:"毎晩、本（　）雑誌（　）読みます。",opts:["や・を","と・を","か・を","も・を"],c:0,e:"れいは「や」。"},
{q:"毎日、日本語（　）英語（　）勉強します。",opts:["か・か","と・を","や・や","や・を"],c:3,e:"れいは「や」。"},
{q:"バス（　）電車（　）、どちらが速いですか。",opts:["と・と","か・か","や・や","も・も"],c:0,e:"くらべるときは「と」。"},
{q:"コーヒー（　）紅茶（　）、どちらがいいですか。",opts:["か・か","と・と","や・や","も・も"],c:0,e:"えらぶときは「か」。"},
{q:"宿題（　）終わったら、遊びましょう。",opts:["を","に","が","で"],c:2,e:"じょうたいのしゅごは「が」。"}
];

let i=0, answers=[], locked=false;
const app=document.getElementById('app');

function render(){
  if(i>=questions.length){
    const score=answers.filter((a,idx)=>a===questions[idx].c).length;
    const rate=Math.round(score/questions.length*100);
    app.innerHTML=`<h2>けっか</h2>
    <p>せいかい：${score} / 35</p>
    <p>せいかいりつ：${rate}%</p>
    <button class="primary" onclick="i=0;answers=[];render()">もういちど</button>`;
    return;
  }
  const q=questions[i];
  locked=false;
  app.innerHTML=`
    <div class="progress"><div style="width:${(i+1)/questions.length*100}%"></div></div>
    <p>もんだい ${i+1} / 35</p>
    <h3>${q.q}</h3>
    ${q.opts.map((o,idx)=>`<button class="option" onclick="answer(${idx})">${o}</button>`).join('')}
    <div id="ex"></div>
  `;
}

function answer(idx){
  if(locked) return;
  locked=true;
  answers[i]=idx;
  const q=questions[i];
  document.querySelectorAll('.option').forEach((b,j)=>{
    if(j===q.c) b.classList.add('correct');
    if(j===idx && idx!==q.c) b.classList.add('wrong');
  });
  document.getElementById('ex').innerHTML =
    `<div class="explain">せつめい：${q.e}</div>
     <button class="primary" onclick="i++;render()">つぎへ</button>`;
}

render();
</script>
</body>
</html>
